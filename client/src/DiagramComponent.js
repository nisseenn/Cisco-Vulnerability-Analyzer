import React, { Component } from 'react';
import Card from '@material-ui/core/Card';
import CardContent from '@material-ui/core/CardContent';
import Typography from '@material-ui/core/Typography';
import ReactMinimalPieChart from 'react-minimal-pie-chart';
import {
  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, Radar, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis,
} from 'recharts';

class DiagramComponent extends Component {
  constructor(){
    super()
    this.state={

    }
  }
  render() {
    return(
      <div className="diagram">
        <Card className="card1">
          <CardContent>
            <Typography className="card1-header" gutterBottom variant="h5" component="h2">
              Vulnerabilities Found
            </Typography>
            <div className="color1">
            </div>
            <p className="critical-text">Critical</p>
            <div className="color2">
            </div>
            <p className="critical-text">High</p>
            <div className="color3">
            </div>
            <p className="critical-text">Medium</p>
            <ReactMinimalPieChart
              data={[
                {
                  title: 'Critical',
                  value: this.props.critical,
                  color: '#C13C37'
                },
                {
                  title: 'High',
                  value: this.props.high,
                  color: '#E38627'
                },
                {
                  title: 'Medium',
                  value: this.props.medium,
                  color: '#3C9349'
                }
              ]}
              label
              labelStyle={{
                fontSize: '5px',
              }}
              lineWidth={15}
              paddingAngle={5}
              lengthAngle={-360}
              style={{height: '300px'}}
              labelPosition={112}
              animate
            />
          </CardContent>
        </Card>

        <Card className="ip-bar-chart">
          <Typography className="bar-header" gutterBottom variant="h5" component="h2">
            Vulnerabilites per ip
          </Typography>
                <BarChart
                  width={500}
                  height={300}
                  data={this.props.data}
                  margin={{
                    top: 5, right: 30, left: 20, bottom: 5,
                  }}
                >
                  <CartesianGrid strokeDasharray='3 3'/>
                  <XAxis dataKey="name" />
                  <YAxis />
                  <Tooltip />
                  <Legend />
                  <Bar dataKey="Vulnerabilities" fill="#8884d8" />
                </BarChart>
        </Card>

        <Card className="spider-card">
          <CardContent>
            <Typography className="card1-header" gutterBottom variant="h5" component="h2">
              Type of vulnerability
          </Typography>
            <RadarChart cx={300} cy={190} outerRadius={150} width={700} height={350} data={this.props.sumVuln}>
              <PolarGrid />
                <PolarAngleAxis dataKey="subject" />
                <PolarRadiusAxis />
                  <Radar name="Total" dataKey="A" stroke="#8884d8" fill="#8884d8" fillOpacity={0.6} />
            </RadarChart>
          </CardContent>
        </Card>

        <Card className="spider-card">
          <CardContent>
            <Typography className="card1-header" gutterBottom variant="h5" component="h2">
              DOS vulnerabilities
            </Typography>
            <RadarChart cx={300} cy={190} outerRadius={150} width={700} height={350} data={this.props.dosVuln}>
              <PolarGrid />
                <PolarAngleAxis dataKey="subject" />
                <PolarRadiusAxis />
                  <Radar name="DOS" dataKey="A" stroke="#8FFF26" fill="#8FFF26" fillOpacity={0.6} />
            </RadarChart>
          </CardContent>
        </Card>

        <Card className="ios-card">
          <CardContent>
            <Typography className="card1-header" gutterBottom variant="h5" component="h2">
              Number of ioses found
            </Typography>
            <ReactMinimalPieChart
              data={[{
                  value: this.props.numIos,
                  color: '#FF8142'
                }]}
              totalValue={5}
              lineWidth={20}
              label
              labelStyle={{
                fontSize: '20px',
              }}
              labelPosition={0}
              style={{height: '200px'}}
              animate
            />
          </CardContent>
        </Card>

        <Card className="ip-card">
          <CardContent>
            <Typography className="card1-header" gutterBottom variant="h5" component="h2">
              Number of ips found
            </Typography>
            <ReactMinimalPieChart
            data={[{
                value: this.props.numIp,
                color: '#FFC935'
              }]}
            totalValue={5}
            lineWidth={20}
            label
            labelStyle={{
              fontSize: '20px',
            }}
            labelPosition={0}
            style={{height: '200px'}}
            animate
            />
          </CardContent>
        </Card>
    </div>
    )
  }
}

export default DiagramComponent
