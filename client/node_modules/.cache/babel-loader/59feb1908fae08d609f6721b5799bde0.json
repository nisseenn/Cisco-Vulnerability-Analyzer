{"ast":null,"code":"import _toConsumableArray from \"/home/vitorro/Documents/WebDev/cisco/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/vitorro/Documents/WebDev/cisco/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vitorro/Documents/WebDev/cisco/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vitorro/Documents/WebDev/cisco/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vitorro/Documents/WebDev/cisco/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vitorro/Documents/WebDev/cisco/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/vitorro/Documents/WebDev/cisco/client/src/App.js\";\nimport React, { Component } from 'react';\nimport jsonString from './Nmap/outfile.json';\nimport './App.css';\nimport Nav from './Nav.js';\nimport Navbar from './navbar.component.js';\nimport axios from 'axios'; // var request = require(\"request\");\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      gotData: [],\n      Critical: [],\n      High: [],\n      Medium: [],\n      Low: [],\n      dhcp: [],\n      dns: [],\n      dosdns: [],\n      dosmulti: [],\n      dostcp: [],\n      dosSC: [],\n      dosIP: [],\n      snmp: [],\n      ftp: [],\n      ipsocket: [],\n      mvpn: [],\n      vlan: [],\n      sumVuln: [],\n      dosVuln: [],\n      string: [],\n      ips: [],\n      ipz: [],\n      data: [],\n      data1: [],\n      loading: true\n    };\n\n    _this.componentDidMount = function () {\n      //  axios.post('https://cloudsso.cisco.com/as/token.oauth2',\n      //   'grant_type=client_credentials&client_id=exxefret986esfy7jfjuwhr8&client_secret=hsPxtmjsSYE5FgGTJyzJwJdh'\n      // )\n      axios.get('http://localhost:3001/ios') // .then((res) => {console.log(res.data)})\n      .then(function (res) {\n        var callRez = res.data;\n        console.log(callRez);\n\n        for (var i = 0; i < jsonString.length; i++) {\n          var object = jsonString[i].ios;\n          var ip1 = jsonString[i].ip;\n\n          _this.setState({\n            string: [].concat(_toConsumableArray(_this.state.string), [object])\n          });\n\n          _this.setState({\n            ips: [].concat(_toConsumableArray(_this.state.ips), [[object, ip1]])\n          });\n\n          _this.setState({\n            ipz: [].concat(_toConsumableArray(_this.state.ipz), [ip1])\n          });\n        }\n\n        for (var x = 0; x < _this.state.string.length; x++) {\n          // var options = { method: 'GET',\n          // url: 'https://api.cisco.com/security/advisories/ios?version=' + this.state.string[x],\n          // headers:\n          //  {'cache-control': 'no-cache',\n          //    authorization: 'Bearer ' + accesstoken,\n          //    accept: 'application/json' }\n          //  };\n          // request(options, (error, response, body, event) => {\n          // var callResponse = JSON.parse(body);\n          // var callRez = callResponse.advisories;\n          for (var w = 0; w < callRez.length; w++) {\n            var title = callRez[w].advisoryTitle;\n\n            if (title.includes('DHCP')) {\n              _this.setState({\n                dhcp: [].concat(_toConsumableArray(_this.state.dhcp), ['DHCP'])\n              });\n            }\n\n            if (title.includes('DNS')) {\n              _this.setState({\n                dns: [].concat(_toConsumableArray(_this.state.dns), ['DNS'])\n              });\n            }\n\n            if (title.includes('Denial of Service' && 'DNS')) {\n              _this.setState({\n                dosdns: [].concat(_toConsumableArray(_this.state.dosdns), ['DNS'])\n              });\n            }\n\n            if (title.includes('Denial of Service' && 'Multicast Network Time Protocol')) {\n              _this.setState({\n                dosmulti: [].concat(_toConsumableArray(_this.state.dosmulti), ['Multicast Protocol'])\n              });\n            }\n\n            if (title.includes('Denial of Service' && 'TCP')) {\n              _this.setState({\n                dostcp: [].concat(_toConsumableArray(_this.state.dostcp), ['TCP'])\n              });\n            }\n\n            if (title.includes('Denial of Service' && 'Software Cluster Management Protocol')) {\n              _this.setState({\n                dosSC: [].concat(_toConsumableArray(_this.state.dosSC), ['Cluster Protocol'])\n              });\n            }\n\n            if (title.includes('Denial of Service' && 'IP Fragment')) {\n              _this.setState({\n                dosIP: [].concat(_toConsumableArray(_this.state.dosIP), ['IP Fragment'])\n              });\n            }\n\n            if (title.includes('SNMP')) {\n              _this.setState({\n                snmp: [].concat(_toConsumableArray(_this.state.snmp), ['SNMP'])\n              });\n            }\n\n            if (title.includes('FTP')) {\n              _this.setState({\n                ftp: [].concat(_toConsumableArray(_this.state.ftp), ['FTP'])\n              });\n            }\n\n            if (title.includes('IP Sockets')) {\n              _this.setState({\n                ipsocket: [].concat(_toConsumableArray(_this.state.ipsocket), ['IP Sockets'])\n              });\n            }\n\n            if (title.includes('MVPN')) {\n              _this.setState({\n                mvpn: [].concat(_toConsumableArray(_this.state.mvpn), ['MVPN'])\n              });\n            }\n\n            if (title.includes('VLAN')) {\n              _this.setState({\n                vlan: [].concat(_toConsumableArray(_this.state.vlan), ['VLAN'])\n              });\n            }\n          }\n\n          _this.setState({\n            dosVuln: [{\n              subject: _this.state.dosdns[0],\n              A: _this.state.dosdns.length\n            }, {\n              subject: _this.state.dosmulti[0],\n              A: _this.state.dosmulti.length\n            }, {\n              subject: _this.state.dostcp[0],\n              A: _this.state.dostcp.length\n            }, {\n              subject: _this.state.dosSC[0],\n              A: _this.state.dosSC.length\n            }, {\n              subject: _this.state.dosIP[0],\n              A: _this.state.dosIP.length\n            }]\n          });\n\n          _this.setState({\n            sumVuln: [{\n              subject: _this.state.dhcp[0],\n              A: _this.state.dhcp.length\n            }, {\n              subject: _this.state.dns[0],\n              A: _this.state.dns.length\n            }, {\n              subject: _this.state.snmp[0],\n              A: _this.state.snmp.length\n            }, {\n              subject: _this.state.ftp[0],\n              A: _this.state.ftp.length\n            }, {\n              subject: _this.state.ipsocket[0],\n              A: _this.state.ipsocket.length\n            }, {\n              subject: _this.state.mvpn[0],\n              A: _this.state.mvpn.length\n            }, {\n              subject: _this.state.vlan[0],\n              A: _this.state.vlan.length\n            }]\n          }); //OLD\n\n\n          for (var t = 0; t < _this.state.ips.length; t++) {\n            var ios = _this.state.ips[t];\n\n            for (var y = 0; y < ios.length; y++) {\n              var eachIos = _this.state.ips[t][y];\n              console.log(callRez.length);\n\n              for (var q = 0; q < callRez.length; q++) {\n                var data = callResponse.advisories[q].iosRelease[0];\n\n                if (data === eachIos) {\n                  var count = q + 1;\n                  var sum = {\n                    ios: eachIos,\n                    Vulnerabilities: count\n                  };\n                }\n              }\n            }\n          }\n\n          _this.setState({\n            data1: [].concat(_toConsumableArray(_this.state.data1), [sum])\n          });\n\n          for (var q = 0; q < _this.state.data1.length; q++) {\n            var iosCount = _this.state.data1[q].ios;\n            var number = _this.state.data1[q].Vulnerabilities;\n\n            for (var o = 0; o < _this.state.ips.length; o++) {\n              var eachArray = _this.state.ips[o][0];\n              var ip = _this.state.ips[o][1];\n\n              if (eachArray === iosCount) {\n                var data = {\n                  name: ip,\n                  Vulnerabilities: number\n                };\n              }\n            }\n          }\n\n          _this.setState({\n            data: [].concat(_toConsumableArray(_this.state.data), [data])\n          }); // const ipCount = [];\n          // const dataCount = [];\n          //\n          // for(var t=0; t < this.state.ips.length; t++){\n          //   var ios = this.state.ips[t];\n          //   for(var y = 0; y < ios.length; y++){\n          //     var eachIos = this.state.ips[t][y];\n          //       for(var q = 0; q < res.data.length; q++){\n          //         var data = res.data[q].iosRelease[0];\n          //         if(data === eachIos){\n          //           var ipp = ios[1];\n          //           var count = q + 1;\n          //           var sum = [ipp,count];\n          //           ipCount.push(sum)\n          //         }\n          //       }\n          //   }\n          //  }\n          // console.log(ipCount);\n          // for(var o = 0; o < this.state.ips.length; o++){\n          //   var eachArray = this.state.ips[o][0];\n          //   var ip = this.state.ips[o][1];\n          //   for(var f = 0; f < ipCount.length; f++){\n          //     for(var u = 0; u < ipCount[f].length; u++){\n          //       console.log(ipCount[f]);\n          //         if(ipCount[f][0] === ip){\n          //           // console.log(ipCount[f][0] + '=' + ip + ipCount[f][1]);\n          //         }\n          //     }\n          //   }\n          // }\n          // const result = {};\n          //\n          // for(var z = 0; z < ipCount.length; ++z) {\n          //   for(var y=0; y < ipCount[z].length; y++){\n          //     if(!result[ipCount[z][y]])\n          //      result[ipCount[z][y]] = 0;\n          //     ++result[ipCount[z][y]];\n          //   }\n          // }\n          //\n          // console.log(result);\n          //\n          // for (let key in result){\n          //    if(result.hasOwnProperty(key)){\n          //      dataCount.push([`${key}`,`${result[key]}`])\n          //    }\n          // }\n          //  this.setState({data1: [...this.state.data1, sum]})\n          //\n          //   for(var s = 0; s < dataCount.length; s++){\n          //     var iosCount = dataCount[s];\n          //     for(var d = 0; d < dataCount[s].length; d++){\n          //       var arrayIos = dataCount[s][0];\n          //       var number = dataCount[s][1];\n          //     }\n          //\n          //\n          //\n          //   for(var o = 0; o < this.state.ips.length; o++){\n          //     var eachArray = this.state.ips[o][0];\n          //     var ip = this.state.ips[o][1];\n          //     if(eachArray === iosCount){\n          //\n          //       var newData = {name: ip, Vulnerabilities: number};\n          //       // dataCount.push(newData)\n          //     }\n          //   }\n          //\n          // }\n          //\n          // this.setState({data: [...this.state.data, newData]});\n\n\n          _this.setState({\n            callRespons: callRez\n          });\n\n          if (callRez.length > 1) {\n            _this.setState({\n              loading: false\n            });\n          }\n\n          for (var p = 0; p < callRez.length; p++) {\n            if (callRez[p].sir === 'Critical') {\n              _this.setState({\n                Critical: _this.state.Critical.concat(callRez[p])\n              });\n            }\n\n            if (callRez[p].sir === 'High') {\n              _this.setState({\n                High: _this.state.High.concat(callRez[p])\n              });\n            }\n\n            if (callRez[p].sir === 'Medium') {\n              _this.setState({\n                Medium: _this.state.Medium.concat(callRez[p])\n              });\n            }\n\n            if (callRez[p].sir === 'Low') {\n              _this.setState({\n                low: _this.state.Low.concat(callRez[p])\n              });\n            }\n          } // })\n\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      if (this.state.loading === true) {\n        return React.createElement(\"div\", {\n          className: \"Spin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, React.createElement(Nav, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }, React.createElement(Navbar, {\n          critical: this.state.Critical,\n          high: this.state.High,\n          medium: this.state.Medium,\n          critical1: this.state.Critical.length,\n          high1: this.state.High.length,\n          medium1: this.state.Medium.length,\n          data: this.state.data,\n          sumVuln: this.state.sumVuln,\n          dosVuln: this.state.dosVuln,\n          numIos: this.state.string.length,\n          numIp: this.state.ipz.length,\n          ips: this.state.ips,\n          ipz: this.state.ipz,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/vitorro/Documents/WebDev/cisco/client/src/App.js"],"names":["React","Component","jsonString","Nav","Navbar","axios","App","state","gotData","Critical","High","Medium","Low","dhcp","dns","dosdns","dosmulti","dostcp","dosSC","dosIP","snmp","ftp","ipsocket","mvpn","vlan","sumVuln","dosVuln","string","ips","ipz","data","data1","loading","componentDidMount","get","then","res","callRez","console","log","i","length","object","ios","ip1","ip","setState","x","w","title","advisoryTitle","includes","subject","A","t","y","eachIos","q","callResponse","advisories","iosRelease","count","sum","Vulnerabilities","iosCount","number","o","eachArray","name","callRespons","p","sir","concat","low","catch","error"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport jsonString from './Nmap/outfile.json'\nimport './App.css';\nimport Nav from './Nav.js';\nimport Navbar from './navbar.component.js'\nimport axios from 'axios';\n\n// var request = require(\"request\");\n\nclass App extends Component {\n    state = {\n      gotData: [],\n      Critical: [],\n      High: [],\n      Medium: [],\n      Low: [],\n      dhcp: [],\n      dns: [],\n      dosdns: [],\n      dosmulti: [],\n      dostcp:Â [],\n      dosSC: [],\n      dosIP: [],\n      snmp: [],\n      ftp: [],\n      ipsocket: [],\n      mvpn: [],\n      vlan: [],\n      sumVuln: [],\n      dosVuln: [],\n      string: [],\n      ips: [],\n      ipz: [],\n      data: [],\n      data1: [],\n      loading: true,\n    };\n\ncomponentDidMount = () => {\n  //  axios.post('https://cloudsso.cisco.com/as/token.oauth2',\n  //   'grant_type=client_credentials&client_id=exxefret986esfy7jfjuwhr8&client_secret=hsPxtmjsSYE5FgGTJyzJwJdh'\n  // )\n    axios.get('http://localhost:3001/ios')\n    // .then((res) => {console.log(res.data)})\n  .then((res) => {\n        var callRez = res.data;\n        console.log(callRez);\n\n        for (var i = 0; i < jsonString.length; i++) {\n          var object = jsonString[i].ios;\n          var ip1 = jsonString[i].ip;\n          this.setState({string: [...this.state.string, object]})\n          this.setState({ips: [...this.state.ips, [object, ip1]]})\n          this.setState({ipz: [...this.state.ipz, ip1]})\n        }\n\n        for(var x=0; x < this.state.string.length; x++){\n          // var options = { method: 'GET',\n          // url: 'https://api.cisco.com/security/advisories/ios?version=' + this.state.string[x],\n          // headers:\n          //  {'cache-control': 'no-cache',\n          //    authorization: 'Bearer ' + accesstoken,\n          //    accept: 'application/json' }\n          //  };\n\n           // request(options, (error, response, body, event) => {\n             // var callResponse = JSON.parse(body);\n             // var callRez = callResponse.advisories;\n\n             for(var w = 0; w < callRez.length; w++){\n               var title = callRez[w].advisoryTitle;\n                 if(title.includes('DHCP')){\n                   this.setState({dhcp: [...this.state.dhcp, 'DHCP']})\n                 }\n                 if(title.includes('DNS')){\n                   this.setState({dns: [...this.state.dns, 'DNS']})\n                 }\n                 if(title.includes('Denial of Service' && 'DNS')){\n                   this.setState({dosdns: [...this.state.dosdns, 'DNS']})\n                 }\n                 if(title.includes('Denial of Service' && 'Multicast Network Time Protocol')){\n                   this.setState({dosmulti: [...this.state.dosmulti, 'Multicast Protocol']})\n                 }\n                 if(title.includes('Denial of Service' && 'TCP')){\n                   this.setState({dostcp: [...this.state.dostcp, 'TCP']})\n                 }\n                 if(title.includes('Denial of Service' && 'Software Cluster Management Protocol')){\n                   this.setState({dosSC: [...this.state.dosSC, 'Cluster Protocol']})\n                 }\n                 if(title.includes('Denial of Service' && 'IP Fragment')){\n                   this.setState({dosIP: [...this.state.dosIP, 'IP Fragment']})\n                 }\n                 if(title.includes('SNMP')){\n                   this.setState({snmp: [...this.state.snmp, 'SNMP']})\n                 }\n                 if(title.includes('FTP')){\n                   this.setState({ftp: [...this.state.ftp, 'FTP']})\n                 }\n                 if(title.includes('IP Sockets')){\n                   this.setState({ipsocket: [...this.state.ipsocket, 'IP Sockets']})\n                 }\n                 if(title.includes('MVPN')){\n                   this.setState({mvpn: [...this.state.mvpn, 'MVPN']})\n                 }\n                 if(title.includes('VLAN')){\n                   this.setState({vlan: [...this.state.vlan, 'VLAN']})\n                 }\n\n             }\n             this.setState({dosVuln: [\n              {subject: this.state.dosdns[0], A: this.state.dosdns.length},\n              {subject: this.state.dosmulti[0], A: this.state.dosmulti.length},\n              {subject: this.state.dostcp[0], A: this.state.dostcp.length},\n              {subject: this.state.dosSC[0], A: this.state.dosSC.length},\n              {subject: this.state.dosIP[0], A: this.state.dosIP.length},\n             ]\n             })\n\n             this.setState({sumVuln: [\n               {subject: this.state.dhcp[0], A: this.state.dhcp.length},\n               {subject: this.state.dns[0], A: this.state.dns.length},\n               {subject: this.state.snmp[0], A: this.state.snmp.length},\n               {subject: this.state.ftp[0], A: this.state.ftp.length},\n               {subject: this.state.ipsocket[0], A: this.state.ipsocket.length},\n               {subject: this.state.mvpn[0], A: this.state.mvpn.length},\n               {subject: this.state.vlan[0], A: this.state.vlan.length},\n             ]})\n\n              //OLD\n             for(var t=0; t < this.state.ips.length; t++){\n               var ios = this.state.ips[t];\n                for(var y = 0; y < ios.length; y++){\n                  var eachIos = this.state.ips[t][y];\n                  console.log(callRez.length);\n                    for(var q = 0; q < callRez.length; q++){\n                      var data = callResponse.advisories[q].iosRelease[0];\n                      if(data === eachIos){\n                        var count = q + 1;\n                        var sum = {ios: eachIos, Vulnerabilities: count};\n                      }\n                    }\n                }\n                          }\n                         this.setState({data1: [...this.state.data1, sum]})\n\n                          for(var q = 0; q < this.state.data1.length; q++){\n                            var iosCount = this.state.data1[q].ios;\n                            var number = this.state.data1[q].Vulnerabilities;\n\n                          for(var o = 0; o < this.state.ips.length; o++){\n                            var eachArray = this.state.ips[o][0];\n                            var ip = this.state.ips[o][1];\n                            if(eachArray === iosCount){\n                              var data = {name: ip, Vulnerabilities: number};\n                            }\n                          }\n                        }\n                        this.setState({data: [...this.state.data, data]});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n             // const ipCount = [];\n             // const dataCount = [];\n             //\n             // for(var t=0; t < this.state.ips.length; t++){\n             //   var ios = this.state.ips[t];\n             //   for(var y = 0; y < ios.length; y++){\n             //     var eachIos = this.state.ips[t][y];\n             //       for(var q = 0; q < res.data.length; q++){\n             //         var data = res.data[q].iosRelease[0];\n             //         if(data === eachIos){\n             //           var ipp = ios[1];\n             //           var count = q + 1;\n             //           var sum = [ipp,count];\n             //           ipCount.push(sum)\n             //         }\n             //       }\n             //   }\n             //  }\n              // console.log(ipCount);\n\n\n\n              // for(var o = 0; o < this.state.ips.length; o++){\n              //   var eachArray = this.state.ips[o][0];\n              //   var ip = this.state.ips[o][1];\n              //   for(var f = 0; f < ipCount.length; f++){\n              //     for(var u = 0; u < ipCount[f].length; u++){\n              //       console.log(ipCount[f]);\n              //         if(ipCount[f][0] === ip){\n              //           // console.log(ipCount[f][0] + '=' + ip + ipCount[f][1]);\n              //         }\n              //     }\n              //   }\n              // }\n\n\n              // const result = {};\n              //\n              // for(var z = 0; z < ipCount.length; ++z) {\n              //   for(var y=0; y < ipCount[z].length; y++){\n              //     if(!result[ipCount[z][y]])\n              //      result[ipCount[z][y]] = 0;\n              //     ++result[ipCount[z][y]];\n              //   }\n              // }\n              //\n              // console.log(result);\n\n              //\n              // for (let key in result){\n              //    if(result.hasOwnProperty(key)){\n              //      dataCount.push([`${key}`,`${result[key]}`])\n              //    }\n              // }\n\n             //  this.setState({data1: [...this.state.data1, sum]})\n             //\n             //   for(var s = 0; s < dataCount.length; s++){\n             //     var iosCount = dataCount[s];\n             //     for(var d = 0; d < dataCount[s].length; d++){\n             //       var arrayIos = dataCount[s][0];\n             //       var number = dataCount[s][1];\n             //     }\n             //\n             //\n             //\n             //   for(var o = 0; o < this.state.ips.length; o++){\n             //     var eachArray = this.state.ips[o][0];\n             //     var ip = this.state.ips[o][1];\n             //     if(eachArray === iosCount){\n             //\n             //       var newData = {name: ip, Vulnerabilities: number};\n             //       // dataCount.push(newData)\n             //     }\n             //   }\n             //\n             // }\n             //\n             // this.setState({data: [...this.state.data, newData]});\n\n             this.setState({callRespons: callRez})\n\n             if(callRez.length > 1){\n               this.setState({loading: false})\n             }\n\n             for(var p = 0; p < callRez.length; p++){\n               if(callRez[p].sir === 'Critical'){\n                 this.setState({Critical: this.state.Critical.concat(callRez[p])})\n               }\n               if (callRez[p].sir === 'High') {\n                 this.setState({High: this.state.High.concat(callRez[p])})\n               }\n               if (callRez[p].sir === 'Medium') {\n                 this.setState({Medium: this.state.Medium.concat(callRez[p])})\n               }\n               if (callRez[p].sir === 'Low') {\n                 this.setState({low: this.state.Low.concat(callRez[p])})\n               }\n             }\n\n           // })\n        }\n    })\n    .catch(error => {\n       console.log(error)\n    })\n  }\n\n  render() {\n    if(this.state.loading === true){\n      return(\n        <div className=\"Spin\">\n          <Nav />\n        </div>\n      )\n    }else{\n      return (\n      <div className=\"App\">\n        <Navbar\n          critical={this.state.Critical}\n          high={this.state.High}\n          medium={this.state.Medium}\n          critical1={this.state.Critical.length}\n          high1={this.state.High.length}\n          medium1={this.state.Medium.length}\n          data={this.state.data}\n          sumVuln={this.state.sumVuln}\n          dosVuln={this.state.dosVuln}\n          numIos={this.state.string.length}\n          numIp={this.state.ipz.length}\n          ips={this.state.ips}\n          ipz={this.state.ipz}\n        />\n      </div>\n    );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}